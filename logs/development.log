[2020-05-26 13:12:31.856] [INFO] [default] - [0mGET /api/products/search?name=ngoc&branch=NAB&limit=10&offset=0&price=0 [32m200 [0m28.252 ms - 101[0m
[2020-05-26 13:12:38.525] [INFO] [default] - [0mGET /api/products/search?name=mai&branch=NAB&limit=10&offset=0&price=0 [32m200 [0m6.955 ms - 103[0m
[2020-05-26 13:12:44.335] [INFO] [default] - [0mGET /api/products/2 [32m200 [0m9.360 ms - 101[0m
[2020-05-26 13:12:47.507] [INFO] [default] - [0mGET /api/products?limit=10&offset=0 [32m200 [0m17.144 ms - 330[0m
[2020-05-26 13:13:04.947] [INFO] [default] - [0mPUT /api/products/5 [33m404 [0m20.175 ms - 70[0m
[2020-05-26 13:13:11.401] [INFO] [default] - [0mPUT /api/products/2 [32m202 [0m31.107 ms - 101[0m
[2020-05-26 13:14:00.012] [INFO] [default] - [p 96782] Listening at port 3000
[2020-05-26 13:28:35.408] [INFO] [default] - [p 97374] Listening at port 3000
[2020-05-26 06:39:31.035] [INFO] [default] - [p 34] Listening at port 3000
[2020-05-26 06:39:41.182] [INFO] [default] - [0mGET /api/products/2 [32m200 [0m51.476 ms - 101[0m
[2020-05-26 06:41:11.472] [ERROR] [default] - SequelizeHostNotFoundError: getaddrinfo ENOTFOUND database database:3306
    at Utils.Promise.tap.then.catch.err (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/connection-manager.js:143:19)
From previous event:
    at ConnectionManager.connect (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/connection-manager.js:136:13)
    at sequelize.runHooks.then (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:338:50)
    at runCallback (timers.js:696:18)
    at tryOnImmediate (timers.js:667:5)
    at processImmediate (timers.js:649:5)
From previous event:
    at ConnectionManager._connect (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:338:8)
    at ConnectionManager.getConnection (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:266:46)
    at Promise.try (/usr/src/app/node_modules/sequelize/lib/sequelize.js:557:34)
From previous event:
    at Promise.resolve.retryParameters (/usr/src/app/node_modules/sequelize/lib/sequelize.js:457:64)
    at /usr/src/app/node_modules/retry-as-promised/index.js:39:21
    at retryAsPromised (/usr/src/app/node_modules/retry-as-promised/index.js:29:10)
    at Sequelize.query (/usr/src/app/node_modules/sequelize/lib/sequelize.js:457:28)
    at Sequelize.authenticate (/usr/src/app/node_modules/sequelize/lib/sequelize.js:786:17)
    at Object.<anonymous> (/usr/src/app/src/infra/database/models/index.js:8:6)
    at Module._compile (internal/modules/cjs/loader.js:689:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)
    at Module.load (internal/modules/cjs/loader.js:599:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:538:12)
    at Function.Module._load (internal/modules/cjs/loader.js:530:3)
    at Module.require (internal/modules/cjs/loader.js:637:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/usr/src/app/src/container.js:32:64)
    at Module._compile (internal/modules/cjs/loader.js:689:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)
    at Module.load (internal/modules/cjs/loader.js:599:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:538:12)
    at Function.Module._load (internal/modules/cjs/loader.js:530:3)
    at Module.require (internal/modules/cjs/loader.js:637:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/usr/src/app/index.js:1:81)
    at Module._compile (internal/modules/cjs/loader.js:689:30)
[2020-05-26 06:42:16.980] [ERROR] [default] - SequelizeConnectionRefusedError: connect ECONNREFUSED 192.168.96.2:3306
    at Utils.Promise.tap.then.catch.err (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/connection-manager.js:139:19)
From previous event:
    at ConnectionManager.connect (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/connection-manager.js:136:13)
    at sequelize.runHooks.then (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:338:50)
    at runCallback (timers.js:696:18)
    at tryOnImmediate (timers.js:667:5)
    at processImmediate (timers.js:649:5)
From previous event:
    at ConnectionManager._connect (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:338:8)
    at ConnectionManager.getConnection (/usr/src/app/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:266:46)
    at Promise.try (/usr/src/app/node_modules/sequelize/lib/sequelize.js:557:34)
From previous event:
    at Promise.resolve.retryParameters (/usr/src/app/node_modules/sequelize/lib/sequelize.js:457:64)
    at /usr/src/app/node_modules/retry-as-promised/index.js:39:21
    at retryAsPromised (/usr/src/app/node_modules/retry-as-promised/index.js:29:10)
    at Sequelize.query (/usr/src/app/node_modules/sequelize/lib/sequelize.js:457:28)
    at Sequelize.authenticate (/usr/src/app/node_modules/sequelize/lib/sequelize.js:786:17)
    at Object.<anonymous> (/usr/src/app/src/infra/database/models/index.js:8:6)
    at Module._compile (internal/modules/cjs/loader.js:689:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)
    at Module.load (internal/modules/cjs/loader.js:599:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:538:12)
    at Function.Module._load (internal/modules/cjs/loader.js:530:3)
    at Module.require (internal/modules/cjs/loader.js:637:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/usr/src/app/src/container.js:32:64)
    at Module._compile (internal/modules/cjs/loader.js:689:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)
    at Module.load (internal/modules/cjs/loader.js:599:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:538:12)
    at Function.Module._load (internal/modules/cjs/loader.js:530:3)
    at Module.require (internal/modules/cjs/loader.js:637:17)
    at require (internal/modules/cjs/helpers.js:20:18)
    at Object.<anonymous> (/usr/src/app/index.js:1:81)
    at Module._compile (internal/modules/cjs/loader.js:689:30)
[2020-05-26 06:43:54.433] [INFO] [default] - [p 33] Listening at port 3000
[2020-05-26 06:44:05.049] [INFO] [default] - [0mGET /api/products/2 [33m404 [0m32.430 ms - 24[0m
[2020-05-26 06:44:10.134] [ERROR] [default] - { SequelizeDatabaseError: Table 'nab_test.products' doesn't exist
    at Query.formatError (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js:247:16)
    at Query.handler [as onResult] (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js:68:23)
    at Query.execute (/usr/src/app/node_modules/mysql2/lib/commands/command.js:30:14)
    at Connection.handlePacket (/usr/src/app/node_modules/mysql2/lib/connection.js:417:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (/usr/src/app/node_modules/mysql2/lib/connection.js:75:12)
    at PacketParser.executeStart (/usr/src/app/node_modules/mysql2/lib/packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (/usr/src/app/node_modules/mysql2/lib/connection.js:82:25)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onread (net.js:639:20)
From previous event:
    at Query.run (/usr/src/app/node_modules/sequelize/lib/dialects/mysql/query.js:57:12)
    at Promise.try.then.connection (/usr/src/app/node_modules/sequelize/lib/sequelize.js:561:20)
From previous event:
    at Promise.resolve.retryParameters (/usr/src/app/node_modules/sequelize/lib/sequelize.js:558:8)
    at /usr/src/app/node_modules/retry-as-promised/index.js:39:21
    at retryAsPromised (/usr/src/app/node_modules/retry-as-promised/index.js:29:10)
    at Sequelize.query (/usr/src/app/node_modules/sequelize/lib/sequelize.js:457:28)
    at QueryInterface.insert (/usr/src/app/node_modules/sequelize/lib/query-interface.js:901:27)
    at Promise.try.then.then.then (/usr/src/app/node_modules/sequelize/lib/model.js:3685:53)
    at runCallback (timers.js:696:18)
    at tryOnImmediate (timers.js:667:5)
    at processImmediate (timers.js:649:5)
From previous event:
    at model.save (/usr/src/app/node_modules/sequelize/lib/model.js:3661:8)
    at Function.create (/usr/src/app/node_modules/sequelize/lib/model.js:2023:8)
    at SequelizeProductsRepository.add (/usr/src/app/src/infra/repository/product/SequelizeProductsRepository.js:29:49)
    at CreateProduct.execute (/usr/src/app/src/app/product/CreateProduct.js:16:57)
    at create (/usr/src/app/src/interfaces/http/product/ProductsController.js:89:19)
    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)
    at next (/usr/src/app/node_modules/express/lib/router/route.js:137:13)
    at injectMiddleware (/usr/src/app/node_modules/awilix-express/lib/inject.js:11:12)
    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)
    at next (/usr/src/app/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/usr/src/app/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)
    at /usr/src/app/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/usr/src/app/node_modules/express/lib/router/index.js:335:12)
    at next (/usr/src/app/node_modules/express/lib/router/index.js:275:10)
    at injectMiddleware (/usr/src/app/node_modules/awilix-express/lib/inject.js:11:12)
    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/usr/src/app/node_modules/express/lib/router/index.js:317:13)
    at /usr/src/app/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/usr/src/app/node_modules/express/lib/router/index.js:335:12)
    at next (/usr/src/app/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/usr/src/app/node_modules/express/lib/router/index.js:174:3)
    at router (/usr/src/app/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/usr/src/app/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/usr/src/app/node_modules/express/lib/router/index.js:317:13)
  name: 'SequelizeDatabaseError',
  parent:
   { Error: Table 'nab_test.products' doesn't exist
       at Packet.asError (/usr/src/app/node_modules/mysql2/lib/packets/packet.js:712:17)
       at Query.execute (/usr/src/app/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/usr/src/app/node_modules/mysql2/lib/connection.js:417:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/usr/src/app/node_modules/mysql2/lib/connection.js:75:12)
       at PacketParser.executeStart (/usr/src/app/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/usr/src/app/node_modules/mysql2/lib/connection.js:82:25)
       at Socket.emit (events.js:182:13)
       at addChunk (_stream_readable.js:283:12)
       at readableAddChunk (_stream_readable.js:264:11)
       at Socket.Readable.push (_stream_readable.js:219:10)
       at TCP.onread (net.js:639:20)
     code: 'ER_NO_SUCH_TABLE',
     errno: 1146,
     sqlState: '42S02',
     sqlMessage: 'Table \'nab_test.products\' doesn\'t exist',
     sql:
      'INSERT INTO `products` (`id`,`name`,`productId`,`branch`,`price`,`createdAt`,`updatedAt`) VALUES (DEFAULT,\'mai to\',\'5c2f1e6d-e21e-4dcb-b263-d47a48467e14\',\'NAB\',20,\'2020-05-26 06:44:10\',\'2020-05-26 06:44:10\');' },
  original:
   { Error: Table 'nab_test.products' doesn't exist
       at Packet.asError (/usr/src/app/node_modules/mysql2/lib/packets/packet.js:712:17)
       at Query.execute (/usr/src/app/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/usr/src/app/node_modules/mysql2/lib/connection.js:417:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/usr/src/app/node_modules/mysql2/lib/connection.js:75:12)
       at PacketParser.executeStart (/usr/src/app/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/usr/src/app/node_modules/mysql2/lib/connection.js:82:25)
       at Socket.emit (events.js:182:13)
       at addChunk (_stream_readable.js:283:12)
       at readableAddChunk (_stream_readable.js:264:11)
       at Socket.Readable.push (_stream_readable.js:219:10)
       at TCP.onread (net.js:639:20)
     code: 'ER_NO_SUCH_TABLE',
     errno: 1146,
     sqlState: '42S02',
     sqlMessage: 'Table \'nab_test.products\' doesn\'t exist',
     sql:
      'INSERT INTO `products` (`id`,`name`,`productId`,`branch`,`price`,`createdAt`,`updatedAt`) VALUES (DEFAULT,\'mai to\',\'5c2f1e6d-e21e-4dcb-b263-d47a48467e14\',\'NAB\',20,\'2020-05-26 06:44:10\',\'2020-05-26 06:44:10\');' },
  sql:
   'INSERT INTO `products` (`id`,`name`,`productId`,`branch`,`price`,`createdAt`,`updatedAt`) VALUES (DEFAULT,\'mai to\',\'5c2f1e6d-e21e-4dcb-b263-d47a48467e14\',\'NAB\',20,\'2020-05-26 06:44:10\',\'2020-05-26 06:44:10\');' }
[2020-05-26 06:44:10.152] [INFO] [default] - [0mPOST /api/products [31m500 [0m84.291 ms - -[0m
[2020-05-26 06:46:22.254] [INFO] [default] - [p 33] Listening at port 3000
[2020-05-26 07:08:51.866] [INFO] [default] - [p 33] Listening at port 3000
[2020-05-26 07:09:12.159] [INFO] [default] - [0mPOST /api/products [32m201 [0m58.938 ms - 101[0m
[2020-05-26 07:28:58.349] [INFO] [default] - [0mGET /api/products/search?name=mai&branch=NAB&limit=10&offset=0&price=0 [32m200 [0m23.673 ms - 103[0m
[2020-05-26 07:29:05.814] [INFO] [default] - [0mGET /api/products/search?name=ngoc&branch=NAB&limit=10&offset=0&price=0&sort=[id,%20DESC]&sort=[id,%20DESC] [32m200 [0m8.053 ms - 2[0m
[2020-05-26 07:29:13.406] [INFO] [default] - [0mGET /api/products/search?name=mai&branch=NAB&limit=10&offset=0&price=0&sort=[id,%20DESC]&sort=[id,%20DESC] [32m200 [0m4.219 ms - 103[0m
[2020-05-26 07:35:30.411] [INFO] [default] - [0mPOST /api/orders [32m201 [0m17.277 ms - 96[0m
[2020-05-26 07:46:27.617] [INFO] [default] - [p 80] Listening at port 3000
[2020-05-26 07:52:27.952] [INFO] [default] - [p 39] Listening at port 3000
[2020-05-26 07:52:31.899] [INFO] [default] - [0mPOST /api/products [32m201 [0m67.791 ms - 100[0m
[2020-05-26 07:52:35.623] [INFO] [default] - [0mGET /api/products/2 [32m200 [0m18.113 ms - 100[0m
[2020-05-26 07:52:39.059] [INFO] [default] - [0mGET /api/products/search?name=mai&branch=NAB&limit=10&offset=0&price=0&sort=[id,%20DESC]&sort=[id,%20DESC] [32m200 [0m11.707 ms - 103[0m
[2020-05-26 07:52:44.702] [INFO] [default] - [0mGET /api/products/search?name=h&branch=NAB&limit=10&offset=0&price=0&sort=[id,%20DESC]&sort=[id,%20DESC] [32m200 [0m5.039 ms - 102[0m
[2020-05-26 07:52:48.499] [INFO] [default] - [0mGET /api/products?limit=10&offset=0 [32m200 [0m12.118 ms - 223[0m
